function CodeEditor(s,c){const t=this;this.id=s,this.name=c,this.code_editor=document.querySelector(`#editor_${s}.editor`),this.sectionParent=t.code_editor.parentElement,this.editorTabset=t.code_editor.querySelector(".editor_tabset"),this.editorTabs=t.editorTabset.querySelectorAll("li"),this.editorDisplay=t.code_editor.querySelector(".editor_display"),this.editorWindows=t.editorDisplay.querySelectorAll(".editor_window"),this.firstTab=t.editorTabs[0].querySelector("span"),this.firstTargetId=t.firstTab.getAttribute("data-target").replace("#editor_window-",""),this.initSetup=()=>{t.activateTab(t.firstTargetId),t.listenHistoryStateChange(),t.editorTabset.addEventListener("click",i=>{const e=i.target.closest("li");if(!e)return;const o=e.querySelector("span").getAttribute("data-target").replace("#editor_window-","");t.activateTab(o)})},this.activateTab=(i,e=!1)=>{const r=`#editor_window-${i}`,o=t.code_editor.querySelector(`span[data-target="${r}"]`).closest("li"),d=t.editorDisplay.querySelector(r);d&&(t.editorTabs.forEach(a=>{const n=a.querySelector("span").getAttribute("data-target")===r;a.removeAttribute("aria-selected"),n&&e&&t.sectionParent.scrollIntoView({behavior:"smooth",block:"start"})}),t.editorWindows.forEach(a=>a.setAttribute("hidden","")),o.setAttribute("aria-selected","true"),d.removeAttribute("hidden"))},this.listenHistoryStateChange=()=>{window.addEventListener("url-change",()=>{const i=new URLSearchParams(window.location.search),e=i.get("course"),r=i.get("editor");e&&r===t.name.toString()&&t.activateTab(e,!0)})},document.addEventListener("DOMContentLoaded",t.initSetup)}
