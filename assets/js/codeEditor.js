function CodeEditor(s,n){const t=this;this.id=s,this.name=n,this.code_editor=document.querySelector(`#editor_${s}.editor`),this.sectionParent=t.code_editor.parentElement,this.editorTabset=t.code_editor.querySelector(".editor_tabset"),this.editorTabs=t.editorTabset.querySelectorAll("li"),this.editorDisplay=t.code_editor.querySelector(".editor_display"),this.editorWindows=t.editorDisplay.querySelectorAll(".editor_window"),this.firstTab=t.editorTabs[0].querySelector("span"),this.firstTargetId=t.firstTab.getAttribute("data-target").replace("#editor_window-",""),this.initSetup=()=>{t.activateTab(t.firstTargetId),t.listenHistoryStateChange(),t.editorTabset.addEventListener("click",i=>{const r=i.target.closest("li");if(!r)return;const o=r.querySelector("span").getAttribute("data-target").replace("#editor_window-","");t.activateTab(o)})},this.activateTab=(i,r=!1)=>{const e=`#editor_window-${i}`,o=t.code_editor.querySelector(`span[data-target="${e}"]`).closest("li"),d=t.editorDisplay.querySelector(e);d&&(t.editorTabs.forEach(a=>{const c=a.querySelector("span").getAttribute("data-target")===e;a.removeAttribute("aria-selected"),c&&r&&t.sectionParent.scrollIntoView({behavior:"smooth",block:"start"})}),t.editorWindows.forEach(a=>a.setAttribute("hidden","")),o.setAttribute("aria-selected","true"),d.removeAttribute("hidden"))},this.onHistoryChange=()=>{const i=new URLSearchParams(window.location.search),r=i.get("editor"),e=i.get("tab");e&&r===t.name.toString()&&t.activateTab(e,!0)},this.listenHistoryStateChange=()=>{t.onHistoryChange(),window.addEventListener("url-change",t.onHistoryChange)},document.addEventListener("DOMContentLoaded",t.initSetup)}
